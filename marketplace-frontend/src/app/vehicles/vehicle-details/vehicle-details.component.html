<div class="vehicle-details-container">
  <h2>Fahrzeugdetails</h2>

  <div *ngIf="isLoading">Lade Fahrzeugdetails...</div>

  <div *ngIf="!isLoading && vehicle">
    <!-- Fahrzeugbilder anzeigen -->
    <div *ngIf="images.length">
      <h3>Bilder</h3>
      <img *ngFor="let image of images" [src]="image" width="200" height="150" alt="Fahrzeugbild">
    </div>

    <!-- Falls keine Bilder vorhanden sind, Platzhalter anzeigen -->
    <div *ngIf="!images.length">
      <h3>Kein Bild verf√ºgbar</h3>
      <img src="assets/placeholder.jpg" width="200" height="150" alt="Kein Bild verf√ºgbar">
    </div>

    <h3>{{ vehicle.name }}</h3>
    <p><strong>Verk√§ufer:</strong> {{ userEmail || 'Unbekannt' }}</p>
    <p><strong>Marke:</strong> {{ vehicle.markId || 'Nicht verf√ºgbar' }}</p>
    <p><strong>Modell:</strong> {{ vehicle.modelId || 'Nicht verf√ºgbar' }}</p>
    <p><strong>Preis:</strong> {{ vehicle.price }} ‚Ç¨</p>
    <p><strong>Kilometerstand:</strong> {{ vehicle.mileage }} km</p>
    <p><strong>Erstzulassung:</strong> {{ vehicle.dateOfFirstRegistration }}</p>
    <p><strong>Farbe:</strong> {{ vehicle.color }}</p>
    <p><strong>Kraftstoffart:</strong> {{ vehicle.fuelType }}</p>
    <p><strong>Zustand:</strong> {{ vehicle.condition }}</p>
    <p><strong>Beschreibung:</strong> {{ vehicle.description }}</p>


    <!-- üöÄ Chat Box -->
    <div class="chat-container">
      <h3>Chat mit Verk√§ufer</h3>
      <div class="chat-messages">
        <div *ngFor="let message of messages" class="{{ message.senderId === userId ? 'sent' : 'received' }}">
          {{ message.text }}
        </div>
      </div>
      <input type="text" [(ngModel)]="newMessage" placeholder="Nachricht eingeben...">
      <button (click)="sendMessage()">Senden</button>
    </div>

    <button (click)="goBack()" class="back-btn">‚Üê Zur√ºck zur Fahrzeugliste</button>
  </div>
</div>
